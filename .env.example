# ============================================
# Finetune Studio - Production Configuration
# ============================================

# --------------------------------------------
# Application Settings
# --------------------------------------------
APP_ENV=production
APP_VERSION=1.0.0
PORT=8080

# --------------------------------------------
# Database Configuration
# --------------------------------------------
# PostgreSQL connection string
# Format: postgres://user:password@host:port/database?sslmode=require
DB_USER=finetune
DB_PASSWORD=CHANGE_ME_STRONG_PASSWORD
DB_NAME=finetune_db
DB_HOST=postgres
DB_PORT=5432
DATABASE_URL=postgres://${DB_USER}:${DB_PASSWORD}@${DB_HOST}:${DB_PORT}/${DB_NAME}?sslmode=disable

# Connection pool settings
DB_MAX_CONNECTIONS=25
DB_MAX_IDLE_CONNECTIONS=5
DB_CONNECTION_MAX_LIFETIME=5m

# --------------------------------------------
# MinIO/S3 Storage Configuration
# --------------------------------------------
MINIO_ENDPOINT=minio:9000
MINIO_USER=minioadmin
MINIO_PASSWORD=CHANGE_ME_STRONG_PASSWORD
MINIO_USE_SSL=false
MINIO_BUCKET=finetune-models

# For production with external S3:
# MINIO_ENDPOINT=s3.amazonaws.com
# MINIO_USER=your_access_key
# MINIO_PASSWORD=your_secret_key
# MINIO_USE_SSL=true

# --------------------------------------------
# Kaggle API Credentials
# --------------------------------------------
# Get your credentials from: https://www.kaggle.com/settings/account
KAGGLE_USERNAME=your_kaggle_username
KAGGLE_KEY=your_kaggle_api_key

# --------------------------------------------
# Security Settings
# --------------------------------------------
# Comma-separated list of allowed origins for CORS
# Examples:
#   Development: http://localhost:3000
#   Production: https://yourdomain.com,https://www.yourdomain.com
ALLOWED_ORIGINS=https://yourdomain.com

# Rate limiting (requests per minute)
RATE_LIMIT_REQUESTS_PER_MINUTE=100
RATE_LIMIT_EXPENSIVE_ENDPOINTS=10

# Maximum request body size in MB
MAX_REQUEST_SIZE_MB=10

# --------------------------------------------
# Worker Pool Configuration
# --------------------------------------------
WORKER_POOL_SIZE=5
WORKER_TIMEOUT=24h

# --------------------------------------------
# Logging Configuration
# --------------------------------------------
# Log level: debug, info, warn, error
LOG_LEVEL=info

# Log format: json, console
LOG_FORMAT=json

# --------------------------------------------
# Monitoring & Metrics
# --------------------------------------------
METRICS_ENABLED=true

# --------------------------------------------
# Frontend Configuration
# --------------------------------------------
FRONTEND_PORT=80

# --------------------------------------------
# Backup Configuration (Optional)
# --------------------------------------------
BACKUP_ENABLED=true
BACKUP_SCHEDULE=0 2 * * *  # Daily at 2 AM
BACKUP_RETENTION_DAYS=7

# --------------------------------------------
# SSL/TLS Configuration (Optional)
# --------------------------------------------
# SSL_CERT_PATH=/etc/ssl/certs/cert.pem
# SSL_KEY_PATH=/etc/ssl/private/key.pem

# --------------------------------------------
# Email Notifications (Optional)
# --------------------------------------------
# SMTP_HOST=smtp.gmail.com
# SMTP_PORT=587
# SMTP_USER=your_email@gmail.com
# SMTP_PASSWORD=your_app_password
# NOTIFICATION_EMAIL=admin@yourdomain.com
